<ion-header>
  <nl-navbar [title]="title"></nl-navbar>
</ion-header>
<ion-content class="csGrayBackground">
  <ion-refresher (ionRefresh)="doRefresh($poll)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-list class="no-comment" *ngIf="EmptyPolls">
    <ion-icon name="stats"></ion-icon>
    <br>NO RECORD FOUND
  </ion-list>
<div *ngFor="let res of resdata ; let i=index">
  <!--<ion-badge  class="csAppBadge csCenter">{{res.employeeName}}</ion-badge>-->
  <ion-card [style.border-color]="res.optionTypeName== 'Single Choice' ? '#7babed' : '#f6c2d8'" style="border-radius: 25px;border:2px solid" class="csBackgroundGray" radio-group [(ngModel)]="choice1[i][0]" >
    <ion-list no-border>
      <ion-item [style.background]="res.optionTypeName== 'Single Choice' ? '#7babed' : '#f6c2d8'">
        <ion-icon *ngIf="res.optionTypeName == 'Single Choice'" color="dark" item-left name="checkmark"></ion-icon>
        <ion-icon *ngIf="res.optionTypeName == 'Multiple Choice'" color="dark" item-left name="done-all"></ion-icon>
        <div class="csParagraph" color="light"><b>{{res.question}}</b></div>
      </ion-item>
    </ion-list>
    <ion-list *ngFor="let d of res.subOptions; let c=index">
      <ion-card class="csSelectOption">
        <ion-item>
          <ion-label item-left>{{d.name}}</ion-label>
          <ion-radio item-right *ngIf="res.optionTypeId == 1" value="{{ d.id }}" checked (click)="singleChoice(i,c,d.id,res.id)"></ion-radio>
          <ion-checkbox item-right *ngIf="res.optionTypeId == 2" [(ngModel)]="choice2[i][c]" (click)="buttonEnable(i,c,d.id,res.id)"></ion-checkbox>
        </ion-item>
      </ion-card>
    </ion-list>
    <!--<div>
      <span style="margin:15px;float:left">Start at: 23/4/2017</span>
      <span style="margin:15px;float:right">Expire at: 23/4/2017</span><br>
      <span style="margin:15px;float:left">By: {{res.employeeUsername}}</span>
      <span style="margin:15px;float:right">Audience: School</span>      
    </div>-->
    <div padding>
      <button  style="border-radius:20px" full ion-button color="primary" [disabled]="enabllle[i]" (click)="PollMulVoting(res.id,i,res)">Vote!</button>
    </div>
    <ion-item [style.background]="res.optionTypeName== 'Single Choice' ? '#7babed' : '#f6c2d8'">
    <div>
      <span style="margin:15px;float:left;margin-bottom:0px;margin-top:0px"><b>Start: </b>21/4/2017</span>
      <span style="margin:15px;float:right;margin-bottom:0px;margin-top:0px"><b>End: </b>{{res.expiredAt}}</span><br>
      <span style="margin:15px;float:left;margin-bottom:0px"><b>By:</b> {{res.employeeUsername}}</span>
      <span style="margin:15px;float:right;margin-bottom:0px"><b>Audience:</b> {{res.typeName}}</span>      
    </div>
    </ion-item>
  </ion-card>
</div>
</ion-content>
